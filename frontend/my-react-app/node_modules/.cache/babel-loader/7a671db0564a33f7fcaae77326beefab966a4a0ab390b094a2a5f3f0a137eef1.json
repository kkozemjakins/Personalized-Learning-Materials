{"ast":null,"code":"var _jsxFileName = \"D:\\\\PiereLV\\\\PythonEdSystem\\\\FlaskProject\\\\Personalized learning materials\\\\frontend\\\\my-react-app\\\\src\\\\components\\\\pages\\\\Functions\\\\apiUtils.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// apiUtils.js\n\nexport const fetchData = async (url, setData, dataKey) => {\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    if (Array.isArray(data[dataKey])) {\n      setData(data[dataKey]);\n    }\n  } catch (error) {\n    console.error(`Error fetching data from ${url}:`, error);\n  }\n};\nexport const renderListItems = (items, renderFunction) => /*#__PURE__*/_jsxDEV(\"ul\", {\n  children: Array.isArray(items) ? items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: renderFunction(item)\n  }, item.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 7\n  }, this)) : null\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 3\n}, this);\nexport const renderListItemsWithAction = (items, renderFunction, handleDelete, handleModify) => /*#__PURE__*/_jsxDEV(\"ul\", {\n  children: Array.isArray(items) ? items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: renderFunction(item, handleDelete, handleModify)\n  }, item.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 7\n  }, this)) : null\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 25,\n  columnNumber: 3\n}, this);\nexport const updateUserData = async (userId, updatedUserData, dataKey) => {\n  try {\n    const response = await fetch(`http://localhost:5000/update_user/${userId}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(updatedUserData)\n    });\n    if (response.ok) {\n      fetchData(`http://localhost:5000/get_${dataKey}`, setData, dataKey);\n      return true; // Successful update\n    } else {\n      console.error(`Error updating ${dataKey}:`, response.statusText);\n      return false;\n    }\n  } catch (error) {\n    console.error(`Error updating ${dataKey}:`, error);\n    return false;\n  }\n};\nexport const UpdateForm = ({\n  formData,\n  fields,\n  onChange,\n  onSubmit\n}) => /*#__PURE__*/_jsxDEV(\"form\", {\n  onSubmit: onSubmit,\n  children: [fields.map(field => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: [field.label, \":\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: field.type || 'text',\n      name: field.name,\n      value: formData[field.name] || '',\n      onChange: e => onChange({\n        ...formData,\n        [field.name]: e.target.value\n      }),\n      required: field.required || false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)]\n  }, field.name, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 7\n  }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n    type: \"submit\",\n    children: \"Update\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 58,\n  columnNumber: 3\n}, this);\n_c = UpdateForm;\nexport default UpdateForm;\nvar _c;\n$RefreshReg$(_c, \"UpdateForm\");","map":{"version":3,"names":["fetchData","url","setData","dataKey","response","fetch","data","json","Array","isArray","error","console","renderListItems","items","renderFunction","_jsxDEV","children","map","item","id","fileName","_jsxFileName","lineNumber","columnNumber","renderListItemsWithAction","handleDelete","handleModify","updateUserData","userId","updatedUserData","method","headers","body","JSON","stringify","ok","statusText","UpdateForm","formData","fields","onChange","onSubmit","field","label","type","name","value","e","target","required","_c","$RefreshReg$"],"sources":["D:/PiereLV/PythonEdSystem/FlaskProject/Personalized learning materials/frontend/my-react-app/src/components/pages/Functions/apiUtils.jsx"],"sourcesContent":["// apiUtils.js\r\n\r\nexport const fetchData = async (url, setData, dataKey) => {\r\n  try {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n    if (Array.isArray(data[dataKey])) {\r\n      setData(data[dataKey]);\r\n    }\r\n  } catch (error) {\r\n    console.error(`Error fetching data from ${url}:`, error);\r\n  }\r\n};\r\n\r\nexport const renderListItems = (items, renderFunction) => (\r\n  <ul>\r\n    {Array.isArray(items) ? items.map((item) => (\r\n      <li key={item.id}>{renderFunction(item)}</li>\r\n    )) : null}\r\n  </ul>\r\n);\r\n\r\nexport const renderListItemsWithAction = (items, renderFunction, handleDelete, handleModify) => (\r\n  <ul>\r\n    {Array.isArray(items) ? items.map((item) => (\r\n      <li key={item.id}>\r\n        {renderFunction(item, handleDelete, handleModify)}\r\n      </li>\r\n    )) : null}\r\n  </ul>\r\n);\r\n\r\nexport const updateUserData = async (userId, updatedUserData, dataKey) => {\r\n  try {\r\n    const response = await fetch(`http://localhost:5000/update_user/${userId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(updatedUserData),\r\n    });\r\n\r\n    if (response.ok) {\r\n      fetchData(`http://localhost:5000/get_${dataKey}`, setData, dataKey);\r\n      return true; // Successful update\r\n    } else {\r\n      console.error(`Error updating ${dataKey}:`, response.statusText);\r\n      return false;\r\n    }\r\n  } catch (error) {\r\n    console.error(`Error updating ${dataKey}:`, error);\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const UpdateForm = ({ formData, fields, onChange, onSubmit }) => (\r\n  <form onSubmit={onSubmit}>\r\n    {fields.map((field) => (\r\n      <div key={field.name}>\r\n        <label>{field.label}:</label>\r\n        <input\r\n          type={field.type || 'text'}\r\n          name={field.name}\r\n          value={formData[field.name] || ''}\r\n          onChange={(e) => onChange({ ...formData, [field.name]: e.target.value })}\r\n          required={field.required || false}\r\n        />\r\n      </div>\r\n    ))}\r\n    <button type=\"submit\">Update</button>\r\n  </form>\r\n);\r\n\r\n\r\nexport default UpdateForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}