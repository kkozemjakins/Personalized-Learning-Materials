{"ast":null,"code":"var _jsxFileName = \"D:\\\\PiereLV\\\\PythonEdSystem\\\\FlaskProject\\\\Personalized learning materials\\\\frontend\\\\my-react-app\\\\src\\\\components\\\\pages\\\\User\\\\UserTestResultsPage.jsx\",\n  _s = $RefreshSig$();\n// UserTestResultsPage.jsx\nimport { useUserRoleAccess } from \"../Functions/apiUtils\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserTestResultsPage() {\n  _s();\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const [userRole, setUserRole] = useState(\"\");\n  const [userAnswers, setUserAnswers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    // Fetch user information from session storage or state\n    const userEmailFromStorage = sessionStorage.getItem(\"user_email\");\n    const userIdFromStorage = sessionStorage.getItem(\"user_id\");\n    const userRoleFromStorage = sessionStorage.getItem(\"user_role\");\n    setUserEmail(userEmailFromStorage);\n    setUserId(userIdFromStorage);\n    setUserRole(userRoleFromStorage);\n    if (!userId) {\n      setLoading(false);\n      return;\n    }\n\n    // Fetch user answers from Flask API\n    fetch(`/user_answers/${userId}`).then(response => {\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch user answers\");\n      }\n      return response.json();\n    }).then(data => {\n      setUserAnswers(data.user_answers);\n      setLoading(false);\n    }).catch(error => {\n      setError(error.message);\n      setLoading(false);\n    });\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User Test Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"User Email: \", userEmail]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"User ID: \", userId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"User Role: \", userRole]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/logout\",\n        className: \"btn btn-success\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), \"| \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/user_main\",\n        className: \"btn btn-success\",\n        children: \"Main\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User Answers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading user answers...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: userAnswers.map(answer => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Question ID: \", answer.question_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"User Answer: \", answer.user_answer]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Correct/Incorrect: \", answer.correct_incorrect]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this)]\n      }, answer.question_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(UserTestResultsPage, \"HFG4cE0f3co2ZJv9Cmp4nvbfk3s=\");\n_c = UserTestResultsPage;\nvar _c;\n$RefreshReg$(_c, \"UserTestResultsPage\");","map":{"version":3,"names":["useUserRoleAccess","React","useState","useEffect","Link","jsxDEV","_jsxDEV","UserTestResultsPage","_s","userEmail","setUserEmail","userId","setUserId","userRole","setUserRole","userAnswers","setUserAnswers","loading","setLoading","error","setError","userEmailFromStorage","sessionStorage","getItem","userIdFromStorage","userRoleFromStorage","fetch","then","response","ok","Error","json","data","user_answers","catch","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","map","answer","question_id","user_answer","correct_incorrect","_c","$RefreshReg$"],"sources":["D:/PiereLV/PythonEdSystem/FlaskProject/Personalized learning materials/frontend/my-react-app/src/components/pages/User/UserTestResultsPage.jsx"],"sourcesContent":["// UserTestResultsPage.jsx\r\nimport { useUserRoleAccess } from \"../Functions/apiUtils\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function UserTestResultsPage() {\r\n    const [userEmail, setUserEmail] = useState(\"\");\r\n    const [userId, setUserId] = useState(\"\");\r\n    const [userRole, setUserRole] = useState(\"\");\r\n    const [userAnswers, setUserAnswers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        // Fetch user information from session storage or state\r\n        const userEmailFromStorage = sessionStorage.getItem(\"user_email\");\r\n        const userIdFromStorage = sessionStorage.getItem(\"user_id\");\r\n        const userRoleFromStorage = sessionStorage.getItem(\"user_role\");\r\n\r\n        setUserEmail(userEmailFromStorage);\r\n        setUserId(userIdFromStorage);\r\n        setUserRole(userRoleFromStorage);\r\n\r\n        if (!userId) {\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        // Fetch user answers from Flask API\r\n        fetch(`/user_answers/${userId}`)\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error(\"Failed to fetch user answers\");\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                setUserAnswers(data.user_answers);\r\n                setLoading(false);\r\n            })\r\n            .catch(error => {\r\n                setError(error.message);\r\n                setLoading(false);\r\n            });\r\n    }, [userId]);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>User Test Results</h1>\r\n            <p>User Email: {userEmail}</p>\r\n            <p>User ID: {userId}</p>\r\n            <p>User Role: {userRole}</p>\r\n            <div>\r\n                <Link to=\"/logout\" className=\"btn btn-success\">Logout</Link> \r\n                | <Link to=\"/user_main\" className=\"btn btn-success\">Main</Link> \r\n            </div>\r\n            <hr />\r\n\r\n            {/* Render user answers */}\r\n            <h2>User Answers</h2>\r\n            {loading ? (\r\n                <p>Loading user answers...</p>\r\n            ) : error ? (\r\n                <p>Error: {error}</p>\r\n            ) : (\r\n                <ul>\r\n                    {userAnswers.map(answer => (\r\n                        <li key={answer.question_id}>\r\n                            <p>Question ID: {answer.question_id}</p>\r\n                            <p>User Answer: {answer.user_answer}</p>\r\n                            <p>Correct/Incorrect: {answer.correct_incorrect}</p>\r\n                            {/* Add more details as needed */}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}